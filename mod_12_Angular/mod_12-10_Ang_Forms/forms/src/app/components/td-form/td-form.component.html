<main class="form-signin w-100 m-auto">
  <form #siForm="ngForm" PasswordNotEmail>
    <img class="mb-4" src="../../../assets/bootstrap-logo.svg" alt="" width="72" height="57">
    <h1 class="h3 mb-3 fw-normal">Please sign in</h1>


    <div class="form-floating">
      <input type="email" class="form-control" name="email" id="floatingInput"
             required #email="ngModel" email EmailExists [ngModelOptions]="{updateOn: 'blur'}"
             [(ngModel)]="signInForm.email"
             placeholder="name@example.com">
<!--             [class]="{'border-danger': email.invalid && (email.dirty || email.touched)}"-->

      <label for="floatingInput">
<!--             [class]="{'text-danger': email.invalid && (email.dirty || email.touched)}"-->
        Email address</label>
      <div *ngIf="email.invalid && (email.dirty || email.touched)">
        <div class="text-danger" *ngIf="email.errors?.['required']">
          Email is required
        </div>
        <div class="text-danger" *ngIf="email.errors?.['email']">
          Email is incorrect
        </div>
      </div>
    </div>


    <div class="form-floating">
      <input type="password" class="form-control" name="password" id="floatingPassword"
             required #password="ngModel" PasswordValidator="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$"
             [class]="{'border-danger': password.invalid && (password.dirty || password.touched)}"
             [(ngModel)]="signInForm.password"
             placeholder="Password">
      <label for="floatingPassword" [class]="{'text-danger': password.invalid && (password.dirty || password.touched)}">
        Password</label>
      <div *ngIf="password.invalid && (password.dirty || password.touched)">
        <div class="text-danger" *ngIf="password.errors?.['required']">
          Password is required
        </div>
        <div class="text-danger" *ngIf="password.errors?.['pattern']">
          Password is not strong
        </div>
      </div>
    </div>
    <!--             pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$"-->

    <div class="form-check text-start my-3">
      <input class="form-check-input" type="checkbox" name="rememberMe" value="remember-me" id="flexCheckDefault"
             [(ngModel)]="signInForm.rememberMe">
      <label class="form-check-label" for="flexCheckDefault">
        Remember me
      </label>
    </div>

    <div *ngIf="siForm.invalid && (siForm.touched || siForm.dirty) && siForm.errors?.['emailAsPassword']" class="text-danger">
      The password should differ from the mail
    </div>

    <button class="btn btn-primary w-100 py-2" type="submit" (click)="signIn(siForm)">Sign in</button>
    <!--    [disabled]="siForm.invalid"-->
    <p class="mt-5 mb-3 text-body-secondary">&copy; 2017â€“2025</p>
  </form>
</main>

